<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Shredding for the Wedding</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <%= csrf_meta_tags %><%= csp_meta_tag %>

    <!-- Core Plugins -->
    <%= javascript_include_tag "plugins/jquery/jquery.min" %>
    <%= javascript_include_tag "plugins/bootstrap/bootstrap.bundle.min" %>
    <%= stylesheet_link_tag "plugins/flaticon/flaticon" %>
    <%= stylesheet_link_tag "plugins/themify-icons/css/themify-icons" %>
    <%= stylesheet_link_tag "plugins/fontawesome/css/all.min" %>
    <%= stylesheet_link_tag "plugins/material-design-iconic-font/css/materialdesignicons.min" %>
    <%= stylesheet_link_tag "plugins/line-awesome/css/line-awesome.min" %>
    <%= stylesheet_link_tag "plugins/animate/animate.min" %>
    <%= stylesheet_link_tag "plugins/metismenu/metisMenu.min" %>

    <!-- Core CSS -->
    <%= stylesheet_link_tag "style" %>
    <%= favicon_link_tag 'favicon.png' %>
    <%= yield :page_styles %>

    <!-- Importmap (Turbo/Stimulus) -->
    <%= javascript_importmap_tags %>
  </head>
  <body class="h-100">


  <!--*******************
    Preloader start
  ********************-->
  <div id="preloader">
    <div class="sk-three-bounce">
      <div class="sk-child sk-bounce1"></div>
      <div class="sk-child sk-bounce2"></div>
      <div class="sk-child sk-bounce3"></div>
    </div>
  </div>
  <!--*******************
      Preloader end
  ********************-->

  <% unless controller_name == "sessions" && action_name == "new" %>

  <!--**********************************
      Main wrapper start
  ***********************************-->
  <div id="main-wrapper">

    <!--**********************************
        Nav header start
    ***********************************-->
    <%= render 'shared/nav_header' %>
    <!--**********************************
        Nav header end
    ***********************************-->

    <!--**********************************
            Chat box start
    ***********************************-->
    <%= render 'shared/chat_box' %>
    <!--**********************************
            Chat box End
     ***********************************-->

    <!--**********************************
            Header start
    ***********************************-->
    <%= render 'shared/header' %>
    <!--**********************************
        Header end ti-comment-alt
    ***********************************-->

    <!--**********************************
        Sidebar start
    ***********************************-->
    <%= render 'shared/sidebar' %>
    <!--**********************************
        Sidebar end
    ***********************************-->

    <!--**********************************
       Flash Messages start
     ***********************************-->
    <% flash.each do |key, message| %>
      <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1100;">
        <div class="toast show align-items-center text-bg-<%= key == "error" ? "danger" : key == "notice" ? "success" : "info" %> border-0" role="alert" aria-live="assertive" aria-atomic="true">
          <div class="d-flex">
            <div class="toast-body">
              <%= message %>
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
          </div>
        </div>
      </div>
    <% end %>
    <!--**********************************
          Flash Messages end
      ***********************************-->

    <!--**********************************
        Content body start
      ***********************************-->
    <%= yield %>
    <!--**********************************
          Content body end
      ***********************************-->

    <!--**********************************
        Footer start
    ***********************************-->
    <%= render 'shared/footer' %>
    <!--**********************************
        Footer end
    ***********************************-->
  </div>
  <!--**********************************
      Main wrapper end
  ***********************************-->

  <% else %>

    <!--**********************************
         Flash Messages start
     ***********************************-->
    <% flash.each do |key, message| %>
      <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1100;">
        <div class="toast show align-items-center text-bg-<%= key == "error" ? "danger" : key == "notice" ? "success" : "info" %> border-0" role="alert" aria-live="assertive" aria-atomic="true">
          <div class="d-flex">
            <div class="toast-body">
              <%= message %>
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
          </div>
        </div>
      </div>
    <% end %>
    <!--**********************************
          Flash Messages end
      ***********************************-->

    <!--**********************************
        Devise Login and Registration start
    ***********************************-->
    <%= yield %>
    <!--**********************************
        Devise Login and Registration end
    ***********************************-->


  <% end %>
    <!-- Plugin JS -->
    <%= javascript_include_tag "plugins/bootstrap/bootstrap.bundle.min" %>
    <%= javascript_include_tag "plugins/metismenu/metisMenu.min" %>
    <%= javascript_include_tag "plugins/fontawesome/js/all.min" %>

    <%= yield :page_scripts %>

    <!-- Core JS -->
    <%= javascript_include_tag "settings" %>
    <%= javascript_include_tag "deznav-init" %>
    <%= javascript_include_tag "custom.min" %>

  </body>
</html>
